<template>
        <div class="melist">
                <!-- æ¬¢è¿å¡ç‰‡ -->
                <el-row :gutter="25">
                        <!-- æ¬¢è¿è¯ -->
                        <el-col :span="14">
                                <div class="grid-content ep-bg-purple"
                                        style="background: linear-gradient(to right, #BA68C8, #FFB74D);">
                                        <div class="wecome">
                                                <div class="wecome-title">æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢</div>
                                                <span style="color: #F8BBD0;">ä¸€ä¸ªçƒ­çˆ±å‰ç«¯çš„å°ç”·å­©</span>
                                                <el-icon size="96" class="icon">
                                                        <SvgIcon iconName="icon-caihong1"></SvgIcon>
                                                </el-icon>
                                        </div>
                                </div>
                        </el-col>
                        <!-- ä¸ªäººä¿¡æ¯ -->
                        <el-col :span="10">
                                <div class="grid-content ep-bg-purple">
                                        <div class="info">
                                                <div>
                                                        <span class="info-title">æ˜Ÿåº§</span>
                                                        <br>
                                                        <span class="info-content" style="color: #E53935;">ç™½ç¾Š</span>
                                                </div>
                                                <div>
                                                        <span class="info-title">æ¥è‡ª</span>
                                                        <br>
                                                        <span class="info-content" style="color: #5C6BC0;">æ±Ÿè‹</span>
                                                </div>
                                                <div>
                                                        <span class="info-title">ä¿æŒçƒ­çˆ±</span>
                                                        <br>
                                                        <span class="info-content" style="color: #9C27B0;">æ¸¸æˆäººé—´</span>
                                                </div>
                                        </div>
                                </div>
                        </el-col>
                </el-row>
                <!-- äººæ ¼æµ‹è¯• -->
                <el-row :gutter="20">
                        <!-- æµ‹è¯•ç»“æœ -->
                        <el-col :span="12">
                                <div class="grid-content ep-bg-purple" style="min-height: 196px;">
                                        <div class="selfhood">
                                                <span style="font-size: 14px;">äººæ ¼</span>
                                                <div class="self">
                                                        <span>æå€¡è€…</span>
                                                        <br>
                                                        <span style="color: aquamarine;">INFJ-T</span>
                                                </div>
                                                <div class="test">
                                                        <span>å»</span>
                                                        <a href="https://www.16personalities.com/ch">
                                                                <img src="../../assets/test.svg" alt="æµ‹è¯•"
                                                                        style="width: 100px;vertical-align: middle ">
                                                        </a>
                                                        <span> å…è´¹æµ‹è¯•äººæ ¼</span>
                                                </div>
                                                <div class="selfhood-cover">
                                                        <img src="../../assets/selfhood.jpg" alt="">
                                                </div>
                                        </div>
                                </div>
                        </el-col>
                        <!-- è¿›åº¦æ¡ -->
                        <el-col :span="12">
                                <div class="grid-content ep-bg-purple" style="min-height: 196px;">
                                        <div class="demo-progress">

                                                <div class="progress" style="margin-top: 4px;">
                                                        <el-progress :percentage="64" :text-inside="true"
                                                                class="flash-progress" striped striped-flow
                                                                :show-text="false" />
                                                        <div class="title">
                                                                <span>å¤–å‘ 64%</span>
                                                                <span>å†…å‘ 36%</span>
                                                        </div>
                                                </div>
                                                <div class="progress">
                                                        <el-progress :percentage="51" :text-inside="true" striped
                                                                striped-flow color="#e4ae3a" :show-text="false" />
                                                        <div class="title">
                                                                <span>å¤©é©¬è¡Œç©º 51%</span>
                                                                <span>æ±‚çœŸåŠ¡å® 49%</span>
                                                        </div>
                                                </div>
                                                <div class="progress">
                                                        <el-progress :percentage="57" :text-inside="true" striped
                                                                striped-flow color="#33a474" :show-text="false" />
                                                        <div class="title">
                                                                <span>ç†æ€§æ€è€ƒ 57%</span>
                                                                <span>æƒ…æ„Ÿç»†è…» 43%</span>
                                                        </div>
                                                </div>
                                                <div class="progress">
                                                        <el-progress :percentage="53" :text-inside="true" striped
                                                                striped-flow color="#88619a" :show-text="false" />
                                                        <div class="title">
                                                                <span>è¿ç­¹å¸·å¹„ 53%</span>
                                                                <span>éšæœºåº”å˜ 47%</span>
                                                        </div>
                                                </div>
                                                <div class="progress">
                                                        <el-progress :percentage="56" :text-inside="true" striped
                                                                striped-flow color="#f25e62" :show-text="false" />
                                                        <div class="title">
                                                                <span>è‡ªä¿¡æœæ–­ 56%</span>
                                                                <span>æƒ…ç»ªæ˜“æ³¢åŠ¨ 44%</span>
                                                        </div>
                                                </div>

                                        </div>
                                </div>
                        </el-col>
                </el-row>
                <!-- å…³äºæˆ‘çš„ -->
                <el-row :gutter="20">
                        <!-- æƒ³è¯´çš„è¯ -->
                        <el-col :span="16">
                                <div class="grid-content ep-bg-purple" style="min-height: 300px;">
                                <div class="talk">
                                            <div class="decoration top-left">âœï¸</div>
        <div class="decoration bottom-right">ğŸŒ</div>
        
        <div class="welcome-text">å—¨ï¼Œä½ å¥½å‘€ï¼</div>
        
        <p>æ¬¢è¿å…‰ä¸´æˆ‘çš„å°å¤©åœ°ï¼å¾ˆé«˜å…´ä½ èƒ½æ¥åˆ°è¿™é‡Œã€‚</p>
        <p>è¿™é‡Œä¸»è¦åˆ†äº« [æˆ‘çš„ç¼–ç¨‹å­¦ä¹ ç¬”è®°/æ—…è¡Œè§é—»/è¯»ä¹¦å¿ƒå¾—/ç”Ÿæ´»éšç¬”]ã€‚</p>
        <p>å¸Œæœ›ä½ èƒ½æ‰¾åˆ°æ„Ÿå…´è¶£çš„å†…å®¹ï¼Œä¹Ÿæ¬¢è¿éšæ—¶äº¤æµ~<span class="emoji">ğŸ˜Š</span></p>
        
                                </div>
                                </div>
                        </el-col>
                        <!-- æ ‡ç­¾äº‘ -->
                        <el-col :span="8">
                                <div class="grid-content ep-bg-purple" style="min-height: 300px; display: flex;">
                                        <div class="tag-cloud" id="tagcloud">
                                        </div>
                                </div>
                        </el-col>
                </el-row>
        </div>
</template>

<script setup lang='ts'>
import { onMounted } from 'vue';
// å¼•å…¥æ ‡ç­¾äº‘
import TagCloud from 'TagCloud'
onMounted(() => {
        const container = document.querySelector('#tagcloud')
        const texts = [
                'Vue', 'JavaScript', 'HTML', 'CSS', 'TypeScript', 'Pinia', 'GitHub', 'Git',
                'åšå®¢', 'å‰ç«¯', 'åŠ¨æ¼«', 'å°è¯´', 'ç†æƒ³ä¸»ä¹‰'
        ]

        const options = {
                radius: 140,
                maxSpeed: 'fast',
                initSpeed: 'slow',
                direction: 135,
                keep: true
        }
        // @ts-ignore è·³è¿‡æ£€æŸ¥
        TagCloud(container, texts, options)
          // ä½¿ç”¨ MutationObserver ç›‘å¬ <span> æ˜¯å¦å‡ºç°
  const observer = new MutationObserver(() => {
    const spans = document.querySelectorAll('#tagcloud span')
    if (spans.length > 0) {
      spans.forEach(span => {
        const rand = (Math.random() * 0.5 + 0.5).toFixed(2)
        span.setAttribute('style', `--scale: ${rand}`)
      })
      observer.disconnect() // å®Œæˆååœæ­¢ç›‘å¬
    }
  })

  observer.observe(container!, { childList: true, subtree: true })
})
</script>

<style lang="less" scoped>
// æµåŠ¨æ¡åŠ¨ç”»å˜æ…¢
@keyframes slowFlow {
        0% {
                background-position: 0 0;
        }

        100% {
                background-position: 60px 0;
        }
}

.melist {
        .el-row {
                margin-bottom: 20px;
        }

        .el-col {
                border-radius: 5px;
        }

        .grid-content {
                padding: 10px;
                border-radius: 5px;
                min-height: 95px;
                background-color: #fff;
        }

        .wecome {
                position: relative;

                .wecome-title {
                             pointer-events: none;
                        margin-bottom: 5px;
                        font-size: 32px;
                        font-weight: 700;
                        color: #fff;
                }

                .icon {
                        position: absolute;
                        right: -5px;
                        top: -10px;
                }
        }

        .info {
                display: flex;
                justify-content: space-between;

                .info-title {
                        font-size: 12px;
                }

                .info-content {
                        font-weight: 700;
                        font-size: 32px;
                }
        }

        .selfhood {
                position: relative;
                display: flex;
                flex-direction: column;

                .self {
                        margin-top: 20px;
                        margin-bottom: 40px;
                        font-weight: 700;
                        font-size: 32px;
                        line-height: 1;
                }

                .test {
                        font-size: 14px;
                        display: flex;
                        gap: 8px;
                        /* å…ƒç´ ä¹‹é—´çš„é—´è· */
                }

                .selfhood-cover {
                        top: -12px;
                        right: -25px;
                        position: absolute;

                        img {
                                height: 200px;
                        }
                }
        }

        .demo-progress {
                .progress {
                        margin-bottom: 8px;

                        .title {
                                display: flex;
                                justify-content: space-between;
                                font-size: 14px;
                        }

                        ::v-deep(.el-progress-bar__inner) {
                                animation: slowFlow 8s linear infinite !important;
                        }
                }
        }
        .talk {
            position: relative;
            padding: 25px;
            font-size: 24px;
            background: white;
            text-align: center;
            line-height: 1.6;
            color: #333;
            // è£…é¥°å…ƒç´ 
            .decoration {
                     pointer-events: none;
                position: absolute;
                opacity: 0.1;
                font-size: 80px;
                z-index: 0;
                
                &.top-left {
                    top: -30px;
                    left: -10px;
                }
                
                &.bottom-right {
                    bottom: -30px;
                    right: -10px;
                }
            }
            
            // æ¬¢è¿æ ‡é¢˜
            .welcome-text {
                     pointer-events: none;
                font-size: 34px;
                font-weight: bold;
                margin-bottom: 15px;
                background: linear-gradient(90deg, #ff758c 0%, #ff7eb3 100%);
                -webkit-background-clip: text;
                -webkit-text-fill-color: transparent;
                text-shadow: 0 2px 4px rgba(0,0,0,0.1);
            }
            
            
            // è¡¨æƒ…
            .emoji {
                font-size: 32px;
                display: inline-block;
                margin: 0 4px;
            }
            
            
            p {
                margin: 10px 0;
                font-size: 20px;
            }
            
        }
        // æ ‡ç­¾äº‘
        .tag-cloud {
                display: flex;
                justify-content: center;
                align-items: center;
                width: 100%;
                height: 100%;

                :deep(span) {
                        margin: 8px;
                        font-size: calc(14px + 6 * var(--scale));
                        font-weight: 500;
                        color: #444;
                        transition: transform 0.3s ease, color 0.3s ease;
                        cursor: pointer;
                        --scale: 0.5;
                }

                :deep(span:hover) {
                        color: #1976d2;
                        transform: scale(1.2);
                }
        }
}
</style>