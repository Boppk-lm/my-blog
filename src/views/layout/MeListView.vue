<template>
        <div class="melist">
                <!-- Ê¨¢ËøéÂç°Áâá -->
                <el-row :gutter="25">
                        <!-- Ê¨¢ËøéËØç -->
                        <el-col :span="14">
                                <div class="grid-content ep-bg-purple"
                                        style="background: linear-gradient(to right, #BA68C8, #FFB74D);">
                                        <div class="wecome">
                                                <div class="wecome-title">Ê¨¢ËøéÊù•Âà∞ÊàëÁöÑÂçöÂÆ¢</div>
                                                <span style="color: #F8BBD0;">‰∏Ä‰∏™ÁÉ≠Áà±ÂâçÁ´ØÁöÑÂ∞èÁî∑Â≠©</span>
                                                <el-icon size="96" class="icon">
                                                        <SvgIcon iconName="icon-caihong1"></SvgIcon>
                                                </el-icon>
                                        </div>
                                </div>
                        </el-col>
                        <!-- ‰∏™‰∫∫‰ø°ÊÅØ -->
                        <el-col :span="10">
                                <div class="grid-content ep-bg-purple">
                                        <div class="info">
                                                <div>
                                                        <span class="info-title">ÊòüÂ∫ß</span>
                                                        <br>
                                                        <span class="info-content" style="color: #E53935;">ÁôΩÁæä</span>
                                                </div>
                                                <div>
                                                        <span class="info-title">Êù•Ëá™</span>
                                                        <br>
                                                        <span class="info-content" style="color: #5C6BC0;">Ê±üËãè</span>
                                                </div>
                                                <div>
                                                        <span class="info-title">‰øùÊåÅÁÉ≠Áà±</span>
                                                        <br>
                                                        <span class="info-content" style="color: #9C27B0;">Ê∏∏Êàè‰∫∫Èó¥</span>
                                                </div>
                                        </div>
                                </div>
                        </el-col>
                </el-row>
                <!-- ‰∫∫Ê†ºÊµãËØï -->
                <el-row :gutter="20">
                        <!-- ÊµãËØïÁªìÊûú -->
                        <el-col :span="12">
                                <div class="grid-content ep-bg-purple" style="min-height: 196px;">
                                        <div class="selfhood">
                                                <span style="font-size: 14px;">‰∫∫Ê†º</span>
                                                <div class="self">
                                                        <span>ÊèêÂÄ°ËÄÖ</span>
                                                        <br>
                                                        <span style="color: aquamarine;">INFJ-T</span>
                                                </div>
                                                <div class="test">
                                                        <span>Âéª</span>
                                                        <a href="https://www.16personalities.com/ch">
                                                                <img src="../../assets/test.svg" alt="ÊµãËØï"
                                                                        style="width: 100px;vertical-align: middle ">
                                                        </a>
                                                        <span> ÂÖçË¥πÊµãËØï‰∫∫Ê†º</span>
                                                </div>
                                                <div class="selfhood-cover">
                                                        <img src="../../assets/selfhood.jpg" alt="">
                                                </div>
                                        </div>
                                </div>
                        </el-col>
                        <!-- ËøõÂ∫¶Êù° -->
                        <el-col :span="12">
                                <div class="grid-content ep-bg-purple" style="min-height: 196px;">
                                        <div class="demo-progress">

                                                <div class="progress" style="margin-top: 4px;">
                                                        <el-progress :percentage="64" :text-inside="true"
                                                                class="flash-progress" striped striped-flow
                                                                :show-text="false" />
                                                        <div class="title">
                                                                <span>Â§ñÂêë 64%</span>
                                                                <span>ÂÜÖÂêë 36%</span>
                                                        </div>
                                                </div>
                                                <div class="progress">
                                                        <el-progress :percentage="51" :text-inside="true" striped
                                                                striped-flow color="#e4ae3a" :show-text="false" />
                                                        <div class="title">
                                                                <span>Â§©È©¨Ë°åÁ©∫ 51%</span>
                                                                <span>Ê±ÇÁúüÂä°ÂÆû 49%</span>
                                                        </div>
                                                </div>
                                                <div class="progress">
                                                        <el-progress :percentage="57" :text-inside="true" striped
                                                                striped-flow color="#33a474" :show-text="false" />
                                                        <div class="title">
                                                                <span>ÁêÜÊÄßÊÄùËÄÉ 57%</span>
                                                                <span>ÊÉÖÊÑüÁªÜËÖª 43%</span>
                                                        </div>
                                                </div>
                                                <div class="progress">
                                                        <el-progress :percentage="53" :text-inside="true" striped
                                                                striped-flow color="#88619a" :show-text="false" />
                                                        <div class="title">
                                                                <span>ËøêÁ≠πÂ∏∑ÂπÑ 53%</span>
                                                                <span>ÈöèÊú∫Â∫îÂèò 47%</span>
                                                        </div>
                                                </div>
                                                <div class="progress">
                                                        <el-progress :percentage="56" :text-inside="true" striped
                                                                striped-flow color="#f25e62" :show-text="false" />
                                                        <div class="title">
                                                                <span>Ëá™‰ø°ÊûúÊñ≠ 56%</span>
                                                                <span>ÊÉÖÁª™ÊòìÊ≥¢Âä® 44%</span>
                                                        </div>
                                                </div>

                                        </div>
                                </div>
                        </el-col>
                </el-row>
                <!-- ÂÖ≥‰∫éÊàëÁöÑ -->
                <el-row :gutter="20">
                        <!-- ÊÉ≥ËØ¥ÁöÑËØù -->
                        <el-col :span="16">
                                <div class="grid-content ep-bg-purple" style="min-height: 300px;">
                                <div class="talk">
                                            <div class="decoration top-left">‚úçÔ∏è</div>
        <div class="decoration bottom-right">üåç</div>
        
        <div class="welcome-text">Âó®Ôºå‰Ω†Â•ΩÂëÄÔºÅ</div>
        
        <p>Ê¨¢ËøéÂÖâ‰∏¥ÊàëÁöÑÂ∞èÂ§©Âú∞ÔºÅÂæàÈ´òÂÖ¥‰Ω†ËÉΩÊù•Âà∞ËøôÈáå„ÄÇ</p>
        <p>ËøôÈáå‰∏ªË¶ÅÂàÜ‰∫´ [ÊàëÁöÑÁºñÁ®ãÂ≠¶‰π†Á¨îËÆ∞/ÊóÖË°åËßÅÈóª/ËØª‰π¶ÂøÉÂæó/ÁîüÊ¥ªÈöèÁ¨î]„ÄÇ</p>
        <p>Â∏åÊúõ‰Ω†ËÉΩÊâæÂà∞ÊÑüÂÖ¥Ë∂£ÁöÑÂÜÖÂÆπÔºå‰πüÊ¨¢ËøéÈöèÊó∂‰∫§ÊµÅ~<span class="emoji">üòä</span></p>
        
                                </div>
                                </div>
                        </el-col>
                        <!-- Ê†áÁ≠æ‰∫ë -->
                        <el-col :span="8">
                                <div class="grid-content ep-bg-purple" style="min-height: 300px; display: flex;">
                                        <div class="tag-cloud" id="tagcloud">
                                        </div>
                                </div>
                        </el-col>
                </el-row>
        </div>
</template>

<script setup lang='ts'>
import { onMounted } from 'vue';
// ÂºïÂÖ•Ê†áÁ≠æ‰∫ë
import TagCloud from 'TagCloud'
onMounted(() => {
        const container = document.querySelector('#tagcloud')
        const texts = [
                'Vue', 'JavaScript', 'HTML', 'CSS', 'TypeScript', 'Pinia', 'GitHub', 'Git',
                'ÂçöÂÆ¢', 'ÂâçÁ´Ø', 'Âä®Êº´', 'Â∞èËØ¥', 'ÁêÜÊÉ≥‰∏ª‰πâ'
        ]

        const options = {
                radius: 140,
                maxSpeed: 'fast',
                initSpeed: 'slow',
                direction: 135,
                keep: true
        }
        // @ts-ignore Ë∑≥ËøáÊ£ÄÊü•
        TagCloud(container, texts, options)
          // ‰ΩøÁî® MutationObserver ÁõëÂê¨ <span> ÊòØÂê¶Âá∫Áé∞
  const observer = new MutationObserver(() => {
    const spans = document.querySelectorAll('#tagcloud span')
    if (spans.length > 0) {
      spans.forEach(span => {
        const rand = (Math.random() * 0.5 + 0.5).toFixed(2)
        span.setAttribute('style', `--scale: ${rand}`)
      })
      observer.disconnect() // ÂÆåÊàêÂêéÂÅúÊ≠¢ÁõëÂê¨
    }
  })

  observer.observe(container!, { childList: true, subtree: true })
})
</script>

<style lang="less" scoped>
// ÊµÅÂä®Êù°Âä®ÁîªÂèòÊÖ¢
@keyframes slowFlow {
        0% {
                background-position: 0 0;
        }

        100% {
                background-position: 60px 0;
        }
}

.melist {
        .el-row {
                margin-bottom: 20px;
        }

        .el-col {
                border-radius: 5px;
        }

        .grid-content {
                padding: 10px;
                border-radius: 5px;
                min-height: 95px;
                background-color: #fff;
        }

        .wecome {
                position: relative;

                .wecome-title {
                             pointer-events: none;
                        margin-bottom: 5px;
                        font-size: 32px;
                        font-weight: 700;
                        color: #fff;
                }

                .icon {
                        position: absolute;
                        right: -5px;
                        top: -10px;
                }
        }

        .info {
                display: flex;
                justify-content: space-between;

                .info-title {
                        font-size: 12px;
                }

                .info-content {
                        font-weight: 700;
                        font-size: 32px;
                }
        }

        .selfhood {
                position: relative;
                display: flex;
                flex-direction: column;

                .self {
                        margin-top: 20px;
                        margin-bottom: 40px;
                        font-weight: 700;
                        font-size: 32px;
                        line-height: 1;
                }

                .test {
                        font-size: 14px;
                        display: flex;
                        gap: 8px;
                        /* ÂÖÉÁ¥†‰πãÈó¥ÁöÑÈó¥Ë∑ù */
                }

                .selfhood-cover {
                        top: -12px;
                        right: -25px;
                        position: absolute;

                        img {
                                height: 200px;
                        }
                }
        }

        .demo-progress {
                .progress {
                        margin-bottom: 8px;

                        .title {
                                display: flex;
                                justify-content: space-between;
                                font-size: 14px;
                        }

                        ::v-deep(.el-progress-bar__inner) {
                                animation: slowFlow 8s linear infinite !important;
                        }
                }
        }
        .talk {
            position: relative;
            padding: 25px;
            font-size: 24px;
            background: white;
            text-align: center;
            line-height: 1.6;
            color: #333;
            // Ë£ÖÈ•∞ÂÖÉÁ¥†
            .decoration {
                     pointer-events: none;
                position: absolute;
                opacity: 0.1;
                font-size: 80px;
                z-index: 0;
                
                &.top-left {
                    top: -30px;
                    left: -10px;
                }
                
                &.bottom-right {
                    bottom: -30px;
                    right: -10px;
                }
            }
            
            // Ê¨¢ËøéÊ†áÈ¢ò
            .welcome-text {
                     pointer-events: none;
                font-size: 34px;
                font-weight: bold;
                margin-bottom: 15px;
                background: linear-gradient(90deg, #ff758c 0%, #ff7eb3 100%);
                -webkit-background-clip: text;
                -webkit-text-fill-color: transparent;
                text-shadow: 0 2px 4px rgba(0,0,0,0.1);
            }
            
            
            // Ë°®ÊÉÖ
            .emoji {
                font-size: 32px;
                display: inline-block;
                margin: 0 4px;
            }
            
            
            p {
                margin: 10px 0;
                font-size: 20px;
            }
            
        }
        // Ê†áÁ≠æ‰∫ë
        .tag-cloud {
                display: flex;
                justify-content: center;
                align-items: center;
                width: 100%;
                height: 100%;

                :deep(span) {
                        margin: 8px;
                        font-size: calc(14px + 6 * var(--scale));
                        font-weight: 500;
                        color: #444;
                        transition: transform 0.3s ease, color 0.3s ease;
                        cursor: pointer;
                        --scale: 0.5;
                }

                :deep(span:hover) {
                        color: #1976d2;
                        transform: scale(1.2);
                }
        }
}
</style>